<!-- see_votes.html.erb -->

<div class="p-6">
  <div class="flex items-center space-x-3">
    <%= link_to session.delete(:return_to) || root_path, class: "rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100 duration-300 transition-all" do %>
      <svg viewBox="0 0 24 24" aria-hidden="true" class="fill-current text-gray-800 w-5 h-5"><g><path d="M20 11H7.414l4.293-4.293c.39-.39.39-1.023 0-1.414s-1.023-.39-1.414 0l-6 6c-.39.39-.39 1.023 0 1.414l6 6c.195.195.45.293.707.293s.512-.098.707-.293c.39-.39.39-1.023 0-1.414L7.414 13H20c.553 0 1-.447 1-1s-.447-1-1-1z"></path></g></svg>
    <% end %>
    <h1 class="font-bold text-2xl">Votes for Post: <%= @post.id %>, Question: <%= params[:question_id] %></h1>
  </div>
</div>


<% @votes.group_by(&:option_id).each do |option_id, votes| %>
  <h2>Option <%= option_id+1 %> :</h2>
  <% votes.each do |vote| %>
    <div class="flex items-center mt-4">
      <%= profile_image(vote.user) %> <!-- Adjust this if your method for fetching profile image is different -->
      <span class="ml-3">
        <%= link_to vote.user.name, profile_path(vote.user) %> <!-- Adjust this if your path or user name method is different -->
      </span>
    </div>
  <% end %>
<% end %>